Простой пример использования docker-compose
-------------------------------------------

Рассматривается поднятие нескольких сервисов одной командой, взаимодействие сервисов внутри docker-сети, взаимодействие с сервисами на хосте из docker-сети.

Для корректной работы нужен локальный (на локальном хосте) web-сервер, который должен отдавать строку по конечной точке - http://localhost/test/ok.txt


В данном примере запускаются три сервиса в отдельной docker-сети:

service (сервис является api и доступен снаружи на порту 5000)
dependent-service (сервис не доступен снаружи docker-сети)
redis (redis-db - ведет счетчик посещщений)


Для демонстрации доступны следующщие URI:

localhost:5000/ - ведет подсчет посещщений.
localhost:5000/dependent - загружает строку из dependent-service и пересылет ее клиенту.
localhost:5000/external - загружает строку из внешнего сервиса и песылает клиенту.


Команды для запуска

собрать: docker-compose build
запустить: docker-compose up
остановить и удалить: docker-compose down